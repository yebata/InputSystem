<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Input System: IInputStateCallbackReceiver Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Input System
   &#160;<span id="projectnumber">v0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('interfaceUnityEngine_1_1Experimental_1_1Input_1_1LowLevel_1_1IInputStateCallbackReceiver.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="interfaceUnityEngine_1_1Experimental_1_1Input_1_1LowLevel_1_1IInputStateCallbackReceiver-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">IInputStateCallbackReceiver Interface Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Allows a device to intercept operations performed on its state.  
 <a href="interfaceUnityEngine_1_1Experimental_1_1Input_1_1LowLevel_1_1IInputStateCallbackReceiver.html#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for IInputStateCallbackReceiver:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="interfaceUnityEngine_1_1Experimental_1_1Input_1_1LowLevel_1_1IInputStateCallbackReceiver.png" usemap="#IInputStateCallbackReceiver_map" alt=""/>
  <map id="IInputStateCallbackReceiver_map" name="IInputStateCallbackReceiver_map">
<area href="classUnityEngine_1_1Experimental_1_1Input_1_1Mouse.html" title="A mouse input device. " alt="Mouse" shape="rect" coords="0,56,170,80"/>
<area href="classUnityEngine_1_1Experimental_1_1Input_1_1Pointer.html" title="Base class for pointer-style devices moving on a 2D screen. " alt="Pointer" shape="rect" coords="180,56,350,80"/>
<area href="classUnityEngine_1_1Experimental_1_1Input_1_1Touchscreen.html" title="A multi-touch surface. " alt="Touchscreen" shape="rect" coords="360,56,530,80"/>
<area href="classUnityEngine_1_1Experimental_1_1Input_1_1Mouse.html" title="A mouse input device. " alt="Mouse" shape="rect" coords="0,112,170,136"/>
<area href="classUnityEngine_1_1Experimental_1_1Input_1_1Pen.html" title="A pen/stylus input device. " alt="Pen" shape="rect" coords="180,112,350,136"/>
<area href="classUnityEngine_1_1Experimental_1_1Input_1_1Touchscreen.html" title="A multi-touch surface. " alt="Touchscreen" shape="rect" coords="360,112,530,136"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a476724d14b89301daf9a258b542a4c28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceUnityEngine_1_1Experimental_1_1Input_1_1LowLevel_1_1IInputStateCallbackReceiver.html#a476724d14b89301daf9a258b542a4c28">OnBeforeWriteNewState</a> (IntPtr oldStatePtr, IntPtr newStatePtr)</td></tr>
<tr class="memdesc:a476724d14b89301daf9a258b542a4c28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a new state is received for the device but before it is copied over the device's current state.  <a href="#a476724d14b89301daf9a258b542a4c28">More...</a><br /></td></tr>
<tr class="separator:a476724d14b89301daf9a258b542a4c28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a817b7784ececd90c5ce9c6eaf837069f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceUnityEngine_1_1Experimental_1_1Input_1_1LowLevel_1_1IInputStateCallbackReceiver.html#a817b7784ececd90c5ce9c6eaf837069f">OnCarryStateForward</a> (IntPtr statePtr)</td></tr>
<tr class="memdesc:a817b7784ececd90c5ce9c6eaf837069f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a new input update is started and existing state of a device is carried forward.  <a href="#a817b7784ececd90c5ce9c6eaf837069f">More...</a><br /></td></tr>
<tr class="separator:a817b7784ececd90c5ce9c6eaf837069f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02e3996ab36bc437a245e0fe1eafee45"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceUnityEngine_1_1Experimental_1_1Input_1_1LowLevel_1_1IInputStateCallbackReceiver.html#a02e3996ab36bc437a245e0fe1eafee45">OnReceiveStateWithDifferentFormat</a> (IntPtr statePtr, FourCC stateFormat, uint stateSize, ref uint offsetToStoreAt)</td></tr>
<tr class="memdesc:a02e3996ab36bc437a245e0fe1eafee45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a device receives a chunk of state that is tagged with a different format than the state of the device itself.  <a href="#a02e3996ab36bc437a245e0fe1eafee45">More...</a><br /></td></tr>
<tr class="separator:a02e3996ab36bc437a245e0fe1eafee45"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Allows a device to intercept operations performed on its state. </p>
<p>This is an expensive interface that incurs costly extra processing. Only put this on a device if it is really needed. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a476724d14b89301daf9a258b542a4c28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a476724d14b89301daf9a258b542a4c28">&#9670;&nbsp;</a></span>OnBeforeWriteNewState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OnBeforeWriteNewState </td>
          <td>(</td>
          <td class="paramtype">IntPtr&#160;</td>
          <td class="paramname"><em>oldStatePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IntPtr&#160;</td>
          <td class="paramname"><em>newStatePtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called when a new state is received for the device but before it is copied over the device's current state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">oldStatePtr</td><td>Pointer to the buffer containing the current state of the device.</td></tr>
    <tr><td class="paramname">newStatePtr</td><td>Pointer to the buffer containing the new state that has been received for the device.</td></tr>
  </table>
  </dd>
</dl>
<p>This method can be used to alter the newly received state before it is written into the device. Pointer delta controls, for example, should accumulate values from multiple consecutive events that happen in the same frame rather than just overwriting the previously stored delta. This can be achieved by reading the current delta from <em>oldStatePtr</em>  and then adding it on top of the delta found in <em>newStatePtr</em> .</p>
<p>Note that this callback is invoked before state change monitors are run to compare the two states. Thus, if in this method, <em>newStatePtr</em>  is changed thus that there is no difference anymore to the old state, state change monitors will not fire and actions will not get triggered. </p>

</div>
</div>
<a id="a817b7784ececd90c5ce9c6eaf837069f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a817b7784ececd90c5ce9c6eaf837069f">&#9670;&nbsp;</a></span>OnCarryStateForward()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool OnCarryStateForward </td>
          <td>(</td>
          <td class="paramtype">IntPtr&#160;</td>
          <td class="paramname"><em>statePtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called when a new input update is started and existing state of a device is carried forward. </p>
<p>REVIEW: replace bool result value with enum?</p>
<p>This method is mainly useful to implement auto-resetting of state. For example, pointer position deltas should go back to their default state at the beginning of a frame. Using this state callback, it's possible to zero out delta control state at the beginning of an update.</p>
<p>Note that the system will still run change monitors over the old and new version of the state after calling this method. This means that actions are able to observe changes applied to state in this method. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">statePtr</td><td>Pointer to the buffer containing the state of the device that is carried forward.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if you have modified the state in <em>statePtr</em> , false if you have left it as is.</dd></dl>

</div>
</div>
<a id="a02e3996ab36bc437a245e0fe1eafee45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02e3996ab36bc437a245e0fe1eafee45">&#9670;&nbsp;</a></span>OnReceiveStateWithDifferentFormat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool OnReceiveStateWithDifferentFormat </td>
          <td>(</td>
          <td class="paramtype">IntPtr&#160;</td>
          <td class="paramname"><em>statePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FourCC&#160;</td>
          <td class="paramname"><em>stateFormat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>stateSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ref uint&#160;</td>
          <td class="paramname"><em>offsetToStoreAt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called when a device receives a chunk of state that is tagged with a different format than the state of the device itself. </p>
<p>TODO: pass pointer to current state</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">statePtr</td><td></td></tr>
    <tr><td class="paramname">stateFormat</td><td></td></tr>
    <tr><td class="paramname">stateSize</td><td></td></tr>
    <tr><td class="paramname">offsetToStoreAt</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<p>This method permits a device to integrate state into its own that is not sent as full-device snapshots or deltas with specific offsets. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceUnityEngine.html">UnityEngine</a></li><li class="navelem"><a class="el" href="namespaceUnityEngine_1_1Experimental.html">Experimental</a></li><li class="navelem"><a class="el" href="namespaceUnityEngine_1_1Experimental_1_1Input.html">Input</a></li><li class="navelem"><a class="el" href="namespaceUnityEngine_1_1Experimental_1_1Input_1_1LowLevel.html">LowLevel</a></li><li class="navelem"><a class="el" href="interfaceUnityEngine_1_1Experimental_1_1Input_1_1LowLevel_1_1IInputStateCallbackReceiver.html">IInputStateCallbackReceiver</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
